swagger: '2.0'
info:
  version: 0.0.0
  title: CBG-FX Transacting API
  description: >
    Penge description
  termsOfService: 'http://seer-technologies.com/terms/'
  contact:
    name: FPTR API team
    email: oliver.galleguez@seer-technologies.com
    url: 'http://swagger.io'
host: localhost:8080
basePath: /cbgfx/transacting/api
schemes:
  - http
consumes:
  - application/json
produces:
  - application/json
paths:
  /appDetails:
    get:
      description: Get application details
      produces:
        - application/json
      responses:
        '200':
          description: Login response
          schema:
            $ref: '#/definitions/appDetails'
        default:
          description: unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /account/login:
    post:
      description: User login stuff
      operationId: userLogin
      produces:
        - application/json
      parameters:
        # - name: transactionDate
        #   in: query
        #   description: Date of Transaction in MM/DD/YYYY format
        #   required: true
        #   type: string
        #   format: date
        - name: officeCode
          in: query
          description: Office Code
          required: true
          type: string
        - name: userId
          in: query
          description: User ID to be logged in
          required: true
          type: string
        - name: userPassword
          in: query
          description: User password
          required: true
          type: string
          format: password
      responses:
        '200':
          description: Login response
          schema:
            $ref: '#/definitions/loginResult'
        default:
          description: unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /account/logout:
    post:
      description: User signout
      produces:
        - application/json
      parameters:
        - name: userId
          in: query
          description: User ID to be logged out
          required: true
          type: string
      responses:
        '200':
          description: Logout response
          schema:
            $ref: '#/definitions/errorModel'
        default:
          description: unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /account/{userId}:
    put:
      description: Change password
      produces:
        - application/json
      parameters:
        - name: transactionDate
          in: query
          description: Date of Transaction in MM/DD/YYYY format
          required: true
          type: string
          format: date
        - name: officeCode
          in: query
          description: Office Code
          required: true
          type: string
        - name: userId
          in: path
          description: User ID to be logged in
          required: true
          type: string
        - name: oldPassword
          in: query
          description: User's old password
          required: true
          type: string
        - name: newPassword
          in: query
          description: Proposed new password
          required: true
          type: string
      responses:
        '200':
          description: Change password response
          schema:
            $ref: '#/definitions/cpResponse'
        default:
          description: unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /account/firstOfficerOverride:
    post:
      description: "First Officer override facility"
      produces:
        - application/json
      parameters:
        - name: userId
          in: query
          type: string
          description: "First Officer's User ID"
          required: true
        - name: userPassword
          in: query
          description: First Officer's password
          type: string
          format: password
          required: true
      responses:
        '200':
          description: First Officer override response
          schema:
            $ref: '#/definitions/errorModel'
        default:
          description: unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /account/secondOfficerOverride:
    post:
      description: "Seconde Officer override facility"
      produces:
        - application/json
      parameters:
        - name: userId
          in: query
          type: string
          description: "Second Officer's User ID"
          required: true
        - name: userPassword
          in: query
          description: Second Officer's password
          type: string
          format: password
          required: true
      responses:
        '200':
          description: Second Officer override response
          schema:
            $ref: '#/definitions/errorModel'
        default:
          description: unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /tables/download:
    get:
      description: |
        Triggers download of table specified in table_id in the background.
        To get table names and their IDs, use /tables/getInfo
      produces:
        - application/json
      parameters:
        - name: table_id
          in: query
          description: Table ID
          required: true
          type: integer
          format: int32
      responses:
        '200':
          description: the result of downloading tables
          schema:
            $ref: '#/definitions/errorModel'
        default:
          description: unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /tables/info:
    get:
      description: Returns the list of tables with their respective ids.
      produces:
        - application/json
      responses:
        '200':
          description: List of reference files / tables
          schema:
            $ref: '#/definitions/referenceTable'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /utility/printer/list:
    get:
      description: |
        Returns the list of printers. Saved printers will have a printerId while printers not yet saved won't.
      produces:
        - application/json
      responses:
        '200':
          description: 'List of printers'
          schema:
            type: array
            items:
              $ref: '#/definitions/printer'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /utility/printer:
    post:
      description: |
        Adds new printer, and sets it to default if specified.
      produces:
        - application/json
      parameters:
        - name: hardwareId
          type: string
          in: query
          required: true
        - name: controlCode
          in: query
          type: string
          required: true
        - name: isDefault
          in: query
          type: boolean
          required: true
      responses:
        '200':
          description: Add printer result
          schema:
            $ref: '#/definitions/errorModel'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /utility/printer/{printerId}:
    delete:
      description: |
        Deletes printer specified by printerId
      produces:
        - application/json
      parameters:
        - name: printerId
          in: path
          type: string
          required: true
      responses:
        '200':
          description: Delete printer result
          schema:
            $ref: '#/definitions/errorModel'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/forex/purchase/dataEntry:
    post:
      description: |
        Saves new Purchase Data Entry
        Deal Rate and Request Rate is the same, and will also be re-calculated in the backend for verification.
      produces:
        - application/json
      parameters:
        - name: dataEntryForm
          description: 'Data entry form'
          required: true
          in: body
          schema:
            $ref: '#/definitions/dataEntry'
      responses:
        '200':
          description: "Data entry form save success"
          schema:
            $ref: '#/definitions/referenceNumberSet'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/forex/purchase/finalUpdate:
    post:
      description: |
        Final Update for Forex
      produces:
        - application/json
      parameters:
        - name: dataEntryForm
          description: 'Data entry form'
          required: true
          in: body
          schema:
            $ref: '#/definitions/dataEntry'
      responses:
        '200':
          description: "Data entry form save success"
          schema:
            $ref: '#/definitions/referenceNumberSet'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/forex/sale/dataEntry:
    post:
      description: |
        Saves new Sale Data Entry
        Deal Rate and Request Rate is the same, and will also be re-calculated in the backend for verification.
      produces:
        - application/json
      parameters:
        - name: dataEntryForm
          description: 'Data entry form'
          required: true
          in: body
          schema:
            $ref: '#/definitions/dataEntry'
      responses:
        '200':
          description: "Data entry form save success"
          schema:
            $ref: '#/definitions/referenceNumberSet'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/forex/sale/override:
    post:
      description: |
        Forex Sale Final Update on Override.
      produces:
        - application/json
      parameters:
        - name: dataEntryForm
          description: 'Data entry form'
          required: true
          in: body
          schema:
            $ref: '#/definitions/dataEntry'
      responses:
        '200':
          description: "Data entry form save success"
          schema:
            $ref: '#/definitions/referenceNumberSet'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/forex/sale/cashAcceptance:
    post:
      description: |
        Forex Sale Final Update on Cash Acceptance/Settlement.
        Requires Teller Validation and Officer Overrides
      produces:
        - application/json
      parameters:
        - name: dataEntryForm
          description: 'Data entry form'
          required: true
          in: body
          schema:
            $ref: '#/definitions/dataEntry'
      responses:
        '200':
          description: "Data entry form save success"
          schema:
            $ref: '#/definitions/referenceNumberSet'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/currencyCombinations:
    get:
      description: "Returns a list of currency combinations (ex, from USD to PHP, AUD to USD)."
      produces:
        - application/json
      responses:
        '200':
          description: "Success"
          schema:
            $ref: "#/definitions/currencyCombination"
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/settlementCodes:
    get:
      description: "Returns a list of Acceptance-Settlement Mode pairs."
      produces:
        - application/json
      responses:
        '200':
          description: "Success"
          schema:
            $ref: "#/definitions/acceptanceSettlementMode"
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/printAdvice/{referenceNo}:
    post:
      description: "Prints transaction advice specified by reference number"
      produces:
        - application/json
      parameters:
        - name: referenceNo
          in: path
          type: string
          required: true
          description: "Transaction reference number. (Temporary and Final)"
      responses:
        '200':
          description: "Print transaction advice result"
          schema:
            $ref: "#/definitions/errorModel"
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/mtsCodes/{mtsType}:
    get:
      description: "Returns a list of MTS/Reference codes."
      produces:
        - application/json
      parameters:
        - name: mtsType
          type: string
          required: true
          in: path
          enum:
            - acceptance
            - settlement
      responses:
        '200':
          description: "List of MTS/Reference Codes"
          schema:
            $ref: "#/definitions/mtsCode"
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/invisibleCodes/list:
    get:
      description: 'Returns a list of invisible codes, specified by transaction type (FOREX, BTSU, MTU). If no transaction type specified, all invisible codes will be returned.'
      produces:
        - application/json
      parameters:
        - name: transactionType
          type: string
          enum:
            - forex
            - btsu
            - mtu
          in: query
      responses:
        '200':
          description: 'List of Invisible codes'
          schema:
            type: array
            items:
              $ref: '#/definitions/invisibleCode'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/list:
    get:
      description: |
        Returns a list of transactions by reference number (temporary or final, for verification), specified by transaction type.
        Returns all transactions if referenceNo is empty.
        If isCorrected is specified, list will be filtered according to value
      produces:
        - application/json
      parameters:
        - name: referenceNo
          type: string
          required: false
          in: query
        - name: transactionType
          type: string
          required: true
          in: query
          enum:
            - forex_purchase
            - forex_sale
            - btsu_purchase
            - btsu_sale
            - tmu_purchase
            - tmu_sale
        - name: isCorrected
          type: boolean
          required: false
          in: query
          description: Checks if the transaction details are corrected/changed
      responses:
        '200':
          description: "List of transactions."
          schema:
            type: array
            items:
              $ref: "#/definitions/transactionSummary"
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/{referenceNo}:
    get:
      description: "Returns complete transaction details specified by reference number"
      produces:
        - application/json
      parameters:
        - name: referenceNo
          type: string
          required: true
          in: path
      responses:
        '200':
          description: "Transaction details"
          schema:
            $ref: "#/definitions/dataEntry"
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/tellerValidation/{referenceNo}:
    post:
      description: "Submits teller's acceptance and settlement validation codes. First officer override should be called first"
      produces:
        - application/json
      parameters:
        - name: referenceNo
          type: string
          required: true
          in: path
        - name: acceptanceValidationCode
          type: string
          required: true
          in: query
          description: "Teller's acceptance validation code. Should be Teller ID + Session #"
        - name: settlementValidationCode
          type: string
          required: true
          in: query
          description: "Teller's settlement validation code. Should be Teller ID + Session #"
      responses:
        '200':
          description: "Teller validation result"
          schema:
            $ref: '#/definitions/errorModel'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/cbgfxClient/search:
    post:
      description: |
        Returns a list of CBG-FX clients. Client will be deleted on the list if there is no transaction made within 21 calendar days.
        Passing the client's surname (or a part of it) will narrow the search results.
      produces:
        - application/json
      parameters:
        - name: surname
          type: string
          in: query
          description: "Client's surname"
          required: false
      responses:
        '200':
          description: "List of CBG-FX Clients"
          schema:
            type: array
            items:
              $ref: '#/definitions/cbgfxClientDetails'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/dealRate:
    get:
      description: Requests for the Deal Rate. Requires source and destination currency.
      produces:
        - application/json
      parameters:
        - name: fromCurrency
          type: string
          in: query
          description: |
            Source currency abbreviation (ex: PHP, USD)
          required: true
        - name: toCurrency
          type: string
          in: query
          description: |
            Destination currency abbreviation (ex: PHP, USD)
          required: true
        - name: mode
          type: string
          in: query
          description: "Transaction Mode (FOREX,BTSU, TMU)"
          enum:
            - FOREX
            - BTSU
            - TMU
      responses:
        '200':
          description: Deal Rate
          schema:
            $ref: '#/definitions/dealRate'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/btsu/purchase/dataEntry:
    post:
      description: "Purchase Data Entry (Deal with BTSU). First Officer override facility should be entered first."
      produces:
        - application/json
      parameters:
        - name: dataEntry
          description: "Data Entry Form"
          required: true
          in: body
          schema:
            $ref: '#/definitions/dataEntry'
      responses:
        '200':
          description: "Final Reference Number"
          schema:
            $ref: '#/definitions/referenceNumberSet'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/btsu/sale/dataEntry:
    post:
      description: "Sale Data Entry (Deal with BTSU). First Officer override facility should be entered first."
      produces:
        - application/json
      parameters:
        - name: dataEntry
          description: "Data Entry Form"
          required: true
          in: body
          schema:
            $ref: '#/definitions/dataEntry'
      responses:
        '200':
          description: "Temporary Reference Number"
          schema:
            $ref: '#/definitions/referenceNumberSet'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/btsu/sale/override:
    post:
      description: "BTSU Sale Final Update on Override"
      produces:
        - application/json
      parameters:
        - name: dataEntry
          description: "Data Entry Form"
          required: true
          in: body
          schema:
            $ref: '#/definitions/dataEntry'
      responses:
        '200':
          description: "Final Reference Number"
          schema:
            $ref: '#/definitions/referenceNumberSet'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/btsu/getEquivalentAmt:
    get:
      description: "Calculates equivalent amount based on request rate"
      produces:
        - application/json
      parameters:
        - name: requestRate
          description: Request Rate
          type: number
          format: float
          in: query
      responses:
        '200':
          description: "Returns gross equivalent amount, plus charges"
          schema:
            $ref: '#/definitions/equivalentAmtResult'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/tmu/purchase/dataEntry:
    post:
      description: "Purchase Data Entry (Deal with TMU)"
      produces:
        - application/json
      parameters:
        - name: tmuForm
          description: "Data Entry Form"
          required: true
          in: body
          schema:
            $ref: '#/definitions/dataEntry'
      responses:
        '200':
          description: "Temporary Reference Number"
          schema:
            $ref: '#/definitions/referenceNumberSet'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/tmu/sale/dataEntry:
    post:
      description: "Sale Data Entry (Deal with TMU). First Office Override is required"
      produces:
        - application/json
      parameters:
        - name: tmuForm
          description: "Data Entry Form"
          required: true
          in: body
          schema:
            $ref: '#/definitions/dataEntry'
      responses:
        '200':
          description: "Temporary Reference Number"
          schema:
            $ref: '#/definitions/referenceNumberSet'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/tmu/sale/specialRequest:
    post:
      description: "Sale Data Entry (Deal with TMU). First Office Override is required"
      produces:
        - application/json
      parameters:
        - name: tmuForm
          description: "Data Entry Form"
          required: true
          in: body
          schema:
            $ref: '#/definitions/dataEntry'
      responses:
        '200':
          description: "Final Reference Number"
          schema:
            $ref: '#/definitions/referenceNumberSet'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/mcSettlement:
    post:
      description: "MC Settlement for TMU Purchase transactions"
      produces:
        - application/json
      parameters:
        - name: referenceNo
          type: string
          required: true
          in: query
        - name: mcNumber
          type: string
          required: true
          in: query
      responses:
        '200':
          description: "MC Settlement Result"
          schema:
            $ref: '#/definitions/referenceNumberSet'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/bpiClient/{accountNumber}:
    get:
      description: "Returns BPI Client short details. Account number as parameter."
      produces:
        - application/json
      parameters:
        - name: accountNumber
          type: string
          in: path
          required: true
      responses:
        '200':
          description: "BPI Client short details"
          schema:
            $ref: '#/definitions/bpiClient'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /inquiry/rates:
    get:
      description: "Rate Inquiry for FOREX and BTSU trading"
      produces:
        - application/json
      parameters:
        - name: rateType
          type: string
          in: query
          required: true
        - name: transactionUnit
          type: string
          in: query
          required: true
        - name: currency
          type: string
          in: query
          required: true
          description: "Three-letter currency code (ex: PHP, USD)"
      responses:
        '200':
          description: "Buying and Selling rates at the time of inquiry, the bases for purchase and sale transactions."
          schema:
            type: object
            properties:
              buyingRate:
                type: number
                format: float
              sellingRate:
                type: number
                format: float
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /inquiry/income:
    get:
      description: "Income inquiry for BTSU Trading Unit only"
      produces:
        - application/json
      responses:
        '200':
          description: "The income for the day. The income will be computed as the difference in Reference Rate against the Grant Rate"
          schema:
            type: object
            properties:
              regularAmount:
                type: number
                format: float
              fcdAmount:
                type: number
                format: float
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /inquiry/acceptedTravelersChecks:
    get:
      description: "Returns a list of accepted traveler's checks"
      produces:
        - application/json
      responses:
        '200':
          description: "A list of traveler's checks and their details"
          schema:
            type: array
            items:
              $ref: '#/definitions/travelersCheck'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /inquiry/clientHistoricalRecord:
    get:
      description: 'Returns a list of transactions done by specified client.'
      produces:
        - application/json
      parameters:
        - name: transactionCategory
          description: 'Either Purchase or Sale'
          type: string
          in: query
          enum:
            - purchase
            - sale
          required: true
        - name: lastName
          type: string
          in: query
        - name: firstName
          type: string
          in: query
        - name: middleName
          type: string
          in: query
        - name: fullName
          type: string
          in: query
      responses:
        '200':
          description: "A list of client's record for the past 20 days"
          schema:
            type: array
            items:
              $ref: '#/definitions/transactionSummary'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /inquiry/managersChecks/{transactionType}:
    get:
      description: "Returns a list of issued Manager's Checks (MC)"
      produces:
        - application/json
      parameters:
        - name: transactionType
          type: string
          in: path
          required: true
          enum:
            - forex
            - btsu
            - tmu
      responses:
        '200':
          description: "A list of issued Manager's Checks (MC)"
          schema:
            type: array
            items:
              $ref: '#/definitions/managersCheck'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /inquiry/bulletinBoard/{transactionType}:
    get:
      description: "Returns a list of special/important messages"
      produces:
        - application/json
      parameters:
        - name: transactionType
          type: string
          in: path
          required: true
          enum:
            - forex
            - btsu
            - tmu
      responses:
        '200':
          description: "List of messages sorted by date, descending"
          schema:
            type: array
            items:
              type: string
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /reports/dailySummary/{transactionType}/{category}:
    get:
      description: "Displays transactions for the day, filtered by transaction type and category"
      produces:
        - application/json
      parameters:
        - name: transactionType
          type: string
          in: path
          required: true
          enum:
            - forex
            - btsu
            - tmu
        - name: category
          type: string
          in: path
          required: true
          enum:
            - purchase
            - sale
      responses:
        '200':
          description: "A list of lines to be displayed. This is originally a large string of what the report will look like, but was split to an array for easier display."
          schema:
            type: array
            items:
              type: string
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /reports/printdailySummary/{transactionType}/{category}:
    get:
      description: "Displays transactions for the day, filtered by transaction type and category"
      produces:
        - application/json
      parameters:
        - name: transactionType
          type: string
          in: path
          required: true
          enum:
            - forex
            - btsu
            - tmu
        - name: category
          type: string
          in: path
          required: true
          enum:
            - purchase
            - sale
      responses:
        '200':
          description: "Print operation result"
          schema:
            $ref: '#/definitions/errorModel'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /reports/errorCorrected/{transactionType}/{category}:
    get:
      description: "Displays error-corrected transactions for the day, filtered by transaction type and category"
      produces:
        - application/json
      parameters:
        - name: transactionType
          type: string
          in: path
          required: true
          enum:
            - forex
            - btsu
            - tmu
        - name: category
          type: string
          in: path
          required: true
          enum:
            - purchase
            - sale
      responses:
        '200':
          description: "A list of lines to be displayed. This is originally a large string of what the report will look like, but was split to an array for easier display."
          schema:
            type: array
            items:
              type: string
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /reports/printErrorCorrected/{transactionType}/{category}:
    get:
      description: "Displays error-corrected transactions for the day, filtered by transaction type and category"
      produces:
        - application/json
      parameters:
        - name: transactionType
          type: string
          in: path
          required: true
          enum:
            - forex
            - btsu
            - tmu
        - name: category
          type: string
          in: path
          required: true
          enum:
            - purchase
            - sale
      responses:
        '200':
          description: "Print operation result"
          schema:
            $ref: '#/definitions/errorModel'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /reports/acceptedTCs/{transactionType}:
    get:
      description: "Displays accepted traveler's checks for the day, filtered by transaction type"
      produces:
        - application/json
      parameters:
        - name: transactionType
          type: string
          in: path
          required: true
          enum:
            - forex
            - btsu
            - tmu
      responses:
        '200':
          description: "A list of lines to be displayed. This is originally a large string of what the report will look like, but was split to an array for easier display."
          schema:
            type: array
            items:
              type: string
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /reports/printacceptedTCs/{transactionType}:
    get:
      description: "Displays accepted traveler's checks for the day, filtered by transaction type"
      produces:
        - application/json
      parameters:
        - name: transactionType
          type: string
          in: path
          required: true
          enum:
            - forex
            - btsu
            - tmu
      responses:
        '200':
          description: "Print operation result"
          schema:
            $ref: '#/definitions/errorModel'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /reports/issuedMCs/{transactionType}:
    get:
      description: "Displays issued manager's checks for the day, filtered by transaction type"
      produces:
        - application/json
      parameters:
        - name: transactionType
          type: string
          in: path
          required: true
          enum:
            - forex
            - btsu
            - tmu
      responses:
        '200':
          description: "A list of lines to be displayed. This is originally a large string of what the report will look like, but was split to an array for easier display."
          schema:
            type: array
            items:
              type: string
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /reports/printIssuedMCs/{transactionType}:
    get:
      description: "Displays issued manager's checks for the day, filtered by transaction type"
      produces:
        - application/json
      parameters:
        - name: transactionType
          type: string
          in: path
          required: true
          enum:
            - forex
            - btsu
            - tmu
      responses:
        '200':
          description: "Print operation result"
          schema:
            $ref: '#/definitions/errorModel'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /reference-files/list:
    get:
      description: Returns list of all reference files
      produces:
        - application/json
      responses:
        '200':
          description: An array of reference files
          schema:
            type: array
            items:
              $ref: '#/definitions/referenceFile'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /reference-files/download:
    get:
      description: Downloads all reference files data and populates corresponding reference tables
      produces:
        - application/octet-stream
      parameters:
        - name: transactionCodes
          description: "List Transaction codes of reference files to be downloaded in Utility > Download Reference Files"
          type: array
          in: query
          required: true
          items:
            type: string
      responses:
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /reference-files/download/all:
    get:
      description: Downloads all reference files data and populates corresponding reference tables
      produces:
        - application/octet-stream
      responses:
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /check-cutoff:
    get:
      description: Checks if exceeds cutoff
      produces:
        - application/json
      parameters:
        - name: trdr_fi
          type: string
          in: query
          required: true
        - name: bank
          type: string
          in: query
          required: true
      responses:
        '200':
          description: "if the trdr_fi and bank is in cutoff"
          schema:
            $ref: '#/definitions/cutOff'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /primary-controls:
    get:
      description: "Inquire primary controls. General > GetCutOff"
      produces:
        - application/json
      parameters:
        - name: trdr_fi
          type: string
          in: query
          required: true
          enum:
            - 1
            - 2
            - 3
      responses:
        '200':
          description: "Print operation result"
          schema:
            $ref: '#/definitions/primaryControl'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transacting-unit/list:
    get:
      description: List of Transacting Unit
      produces:
        - application/json
      parameters:
        - name: tran_fi
          type: string
          in: query
          required: true
        - name: proctag
          type: string
          in: query
          required: true
      responses:
        '200':
          description: "Print operation result"
          schema:
            type: array
            items:
              $ref: '#/definitions/transactingUnit'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/cash-acceptance-or-settlement/details:
    get:
      description: Cash Acceptance/Settlement Transaction Details/Inquiry
      produces:
        - application/json
      parameters:
        - name: trdr_fi
          type: string
          in: query
          required: true
          enum:
            - 1
            - 2
            - 3
        - name: tran_indc
          type: string
          in: query
          required: true
          enum:
            - P
            - S
        - name: brch_code
          description: Equivalent to office code
          type: string
          in: query
          required: true
        - name: curr_code
          description: Currency code
          type: string
          in: query
          required: true
        - name: ref_nmber
          type: string
          in: query
          required: true
        - name: inqy_type
          type: string
          in: query
          required: true
          enum:
            - 5
      responses:
        '200':
          description: "Print operation result"
          schema:
            type: array
            items:
              $ref: '#/definitions/transactionCashAcceptanceSettlementDetails'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/cash-acceptance-or-settlement/list:
    get:
      description: Cash Acceptance/Settlement Transaction Details/Inquiry
      produces:
        - application/json
      parameters:
        - name: trdr_fi
          description: Trading ___
          type: string
          in: query
          required: true
          enum:
            - 1
            - 2
            - 3
        - name: tran_indc
          type: string
          in: query
          required: true
          enum:
            - P
            - S
        - name: brch_code
          description: Equivalent to office code
          type: string
          in: query
          required: true
        - name: curr_code
          description: Currency code
          type: string
          in: query
          required: true
        - name: ref_nmber
          type: string
          in: query
          required: true
        - name: list_type
          type: string
          in: query
          required: true
          enum:
            - 3
        - name: proctag
          type: string
          in: query
          required: true
      responses:
        '200':
          description: "Print operation result"
          schema:
            type: array
            items:
              $ref: '#/definitions/transactionCashAcceptanceSettlementListItems'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/cash-acceptance-or-settlement/update:
    post:
      description: Final update on Cash Acceptance/Settlement
      produces:
        - application/json
      parameters:
        - name: ref_nmber
          description: Reference number
          type: string
          in: query
          required: true
        - name: atel_vald
          description: Acceptance teller Validation
          type: string
          in: query
          required: true
        - name: stel_vald
          description: Settlement teller Validation
          type: string
          in: query
          required: true
      responses:
        '200':
          description: "Print operation result"
          schema:
            type: object
            properties:
              ref_nmbr:
                type: string
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/mc-settlement/details:
    get:
      description: MC Settlment Transaction Details/Inquiry
      produces:
        - application/json
      parameters:
        - name: trdr_fi
          type: string
          in: query
          required: true
          enum:
            - 1
            - 2
            - 3
        - name: tran_indc
          type: string
          in: query
          required: true
          enum:
            - P
            - S
        - name: brch_code
          description: Equivalent to office code
          type: string
          in: query
          required: true
        - name: curr_code
          description: Currency code
          type: string
          in: query
          required: true
        - name: ref_nmber
          type: string
          in: query
          required: true
        - name: inqy_type
          type: string
          in: query
          required: true
          enum:
            - 6
      responses:
        '200':
          description: "Print operation result"
          schema:
            type: array
            items:
              $ref: '#/definitions/transactionCashAcceptanceSettlementDetails'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/mc-settlement/list:
    get:
      description: MC Settlement Transaction List
      produces:
        - application/json
      parameters:
        - name: trdr_fi
          description: Trading ___
          type: string
          in: query
          required: true
          enum:
            - 1
            - 2
            - 3
        - name: tran_indc
          type: string
          in: query
          required: true
          enum:
            - P
            - S
        - name: brch_code
          description: Equivalent to office code
          type: string
          in: query
          required: true
        - name: curr_code
          description: Currency code
          type: string
          in: query
          required: true
        - name: ref_nmber
          type: string
          in: query
          required: true
        - name: list_type
          type: string
          in: query
          required: true
          enum:
            - 4
        - name: proctag
          type: string
          in: query
          required: true
      responses:
        '200':
          description: "Print operation result"
          schema:
            type: array
            items:
              $ref: '#/definitions/transactionCashAcceptanceSettlementListItems'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
  /transaction/mc-settlement/update:
    post:
      description: Final update on MC Settlement
      produces:
        - application/json
      parameters:
        - name: ref_nmber
          description: Reference number
          type: string
          in: query
          required: true
        - name: mc_nmbr
          description: MC settlement number
          type: string
          in: query
          required: true
      responses:
        '200':
          description: "Print operation result"
          schema:
            type: object
            properties:
              ref_nmbr:
                type: string
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/errorModel'
###### DEFS ######
definitions:
  loginResult:
    type: object
    required:
      - userId
      - accountStatus
    properties:
      userId:
        type: string
      accountStatus:
        type: string
        enum:
          - expired
          - newaccount
          - ok
      officeCode:
        type: string
        description: Transacting branch code
      officeName:
        type: string
        description: Transacting branch name
      terminalCode:
        type: string
  cpResponse:
    description: Change password response
    type: object
    required:
      - userId
      - success
    properties:
      userId:
        type: string
      success:
        type: boolean
        description: change password operation result
      errmsg:
        type: string
        description: description of error / system message from mainframe
  appDetails:
    type: object
    required:
      - appVersion
      - dateCompiled
    properties:
      appVersion:
        type: string
      dateCompiled:
        type: string
  printer:
    type: object
    required:
      - printerName
      - hardwareId
      - controlCode
      - isDefaultPrinter
    properties:
      printerId:
        type: integer
        format: int32
      hardwareId:
        type: string
      printerName:
        type: string
      controlCode:
        type: string
      isDefaultPrinter:
        type: boolean
  errorModel:
    type: object
    required:
      - code
      - message
    properties:
      code:
        type: integer
        format: int32
      message:
        type: string
  referenceTable:
    type: object
    required:
      - tableId
      - status
      - dateUpdated
      - tableDesc
    properties:
      tableId:
        type: integer
        format: int32
      status:
        type: string
        enum:
          - updated
          - not updated
      dateUpdated:
        type: string
      tableDesc:
        type: string
  currency:
    type: object
    required:
      - id
      - currencyCode
    properties:
      id:
        type: integer
        format: int32
      currencyCode:
        type: string
        description: "Three-letter currency code (example: PHP, USD, AUD)"
  currencyCombination:
    type: object
    properties:
      id:
        type: integer
        format: int32
      fromCurrency:
        $ref: '#/definitions/currency'
      toCurrency:
        $ref: '#/definitions/currency'
  commonDataForm:
    type: object
    properties:
      referenceNo:
        type: string
        description: "Transaction Reference Number"
      transactionType:
        type: string
        description: "Transaction Type"
        enum:
          - forex_purhcase
          - forex_sale
          - btsu_purchase
          - btsu_sale
          - tmu_purchase
          - tmu_sale
      dataEntryId:
        type: integer
        format: int64
        description: 'Data entry ID'
      isCorporate:
        type: boolean
        description: |
          True if Corporate, False if Individual
      managingUnit:
        type: string
        description: |
          Note: Managing Unit and Booking Unit is the same
      isBpiClient:
        type: boolean
        description: |
          If client is walk-in, this is false. If set true, then bpiClientDetails is required.
      bpiClientDetails:
        $ref: '#/definitions/bpiClient'
      clientInfo:
        $ref: "#/definitions/personalInfo"
      clientWithDocuments:
        type: boolean
        description: 'Client with documents?'
      transAmtCurrency:
        type: string
        description: "Transaction's initial currency (ex: AUD, USD, PHP). Determined by currency combinations."
      transactionAmt:
        type: number
        format: float
        description: "fx amount to be purhcased"
      equivCurrency:
        type: string
        description: "Transaction amount converted to other currency (ex: AUD, USD, PHP). Determined by currency combinations."
      equivAmount:
        type: number
        format: float
        description: "fx amount to be purhcased. System will automatically compute the equivalent amoutn based on the transacation amount and requested rate."
      acceptanceMode:
        type: integer
        format: int32
        description: 'Lol nakalimutan ko na to (for verification)'
      acceptanceReference:
        type: string
        description: "Acceptance Reference code"
      acceptanceDocStamp:
        type: number
        format: float
      acceptanceCommission:
        type: string
      tcPostage:
        type: number
        format: float
        description: Traveler's Check Postage (?)
      dealRate:
        type: number
        format: float
        description: 'Deal Rate'
      requestRate:
        type: number
        format: float
        description: 'Request Rate or Board Rate. Should be equal to Deal Rate'
      netAmount:
        type: number
        format: float
        description: 'Net Amount'
      settlementReference:
        type: string
        description: 'Settlement reference Code'
      settlementDocStamp:
        type: number
        format: float
      settlementCommission:
        type: string
      isCorporateBeneficiary:
        type: boolean
        description: "Value is false if beneficiary is individual"
      beneficiaryInfo:
        $ref: "#/definitions/personalInfo"
      invisibleCode:
        $ref: "#/definitions/invisibleCode"
      specialMessage:
        type: string
        description: "For Special rate, this is a mandatory field"
      acceptanceValidation:
        type: string
        description: "Teller's acceptance validation"
      settlementValidation:
        type: string
        description: "Teller's settlement validation"
  acceptanceMode:
    type: object
    properties:
      id:
        type: integer
        format: int32
      code:
        type: string
        description: 'Acceptance Mode code'
  settlementMode:
    type: object
    properties:
      id:
        type: integer
        format: int32
      code:
        type: string
        description: 'Settlement Mode code'
  acceptanceSettlementMode:
    type: object
    properties:
      id:
        type: integer
        format: int32
      acceptanceMode:
        $ref: '#/definitions/acceptanceMode'
      settlementMode:
        $ref: '#/definitions/settlementMode'
  personalInfo:
    type: object
    properties:
      firstName:
        type: string
        description: 'Client First Name. Max 20 alphanumeric characters'
      middleName:
        type: string
        description: 'Client Middle Name. Middle Initials are not allowed. Max 20 alphanumeric characters'
      lastName:
        type: string
        description: 'Client Last Name. Max 10 alphanumeric Characters'
      addressLine1:
        type: string
        description: 'Address Line 1. Max 60 alphanumeric characters.'
      addressLine2:
        type: string
        description: 'Address Line 2. Max 60 alphanumeric characters.'
      contactNo:
        type: string
        description: 'Telephone (7 chars) or mobile number (11 chars)'
      birthDate:
        type: string
        format: date
        description: 'Client birthdate in MM/DD/YYYY format'
      tin:
        type: string
        description: 'TIN Number in ###-###-### format'
  invisibleCode:
    type: object
    properties:
      id:
        type: integer
        format: int32
      transactionType:
        type: string
        enum:
          - forex
          - btsu
          - tmu
      code:
        type: integer
        format: int32
      description:
        type: string
  mtsCode:
    type: object
    description: "MTS/Reference Codes"
    properties:
      id:
        type: integer
        format: int32
      code:
        type: string
      description:
        type: string
  transactionSummary:
    type: object
    description: "A summary of transaction details. For complete details, use dataEntry object."
    properties:
      referenceNo:
        type: string
      transactionDate:
        type: string
        format: date
      transactionUnit:
        type: string
        description: 'Unit where transaction was performed'
      status:
        type: string
      currencyFrom:
        type: string
      currencyTo:
        type: string
      transactionAmount:
        type: number
        format: float
      grantRate:
        type: number
        format: float
      lastName:
        type: string
      firstName:
        type: string
      middleNAme:
        type: string
  referenceNumberSet:
    type: object
    description: "Temporary and Permanent Reference number for the transaction"
    required:
      - permanentRefNo
    properties:
      temporaryRefNo:
        type: string
        description: Transaction's old reference code. Empty if not applicable.
      permanentRefNo:
        type: string
  bpiClient:
    type: object
    description: Short details of BPI/BFB account
    properties:
      accountNumber:
        type: string
      currency:
        type: string
      shortName:
        type: string
  cbgfxClientDetails:
    type: object
    description: Short description of a CBG-FX Client
    properties:
      lastname:
        type: string
      firstname:
        type: string
      middleName:
        type: string
      accumulatedAmount:
        type: number
        format: float
  dealRate:
    type: object
    required:
      - dealRateAmount
    properties:
      dealRateAmount:
        type: number
        format: float
  travelersCheck:
    type: object
    required:
      - id
      - checkNo
      - checkAmount
    properties:
      id:
        type: integer
        format: int32
      referenceNo:
        type: string
        description: 'Transaction reference number (optional)'
      checkNo:
        type: string
      checkAmount:
        type: number
        format: float
      refNo:
        type: string
      currency:
        type: string
        description: 'Three-letter currency code (ex: PHP, USD)'
      totalAmount:
        type: string
        description: 'Also equal to checkAmount (for verification)'
  managersCheck:
    type: object
    required:
      - referenceNo
      - mcSerialNo
      - phpAmount
      - lastName
    properties:
      referenceNo:
        type: string
      mcSerialNo:
        type: string
        description: "Manager's Check Serial Number"
      phpAmount:
        type: number
        format: float
        description: "Amount in Philippine Peso (PHP)"
      lastName:
        type: string
      firstName:
        type: string
      middleName:
        type: string
  dataEntry:
    type: object
    required:
      - commonData
    description: "Form for transactions. For BTSU transactions, travelersChecks are required"
    properties:
      commonData:
        $ref: "#/definitions/commonDataForm"
      travelersChecks:
        type: array
        items:
          $ref: "#/definitions/travelersCheck"
  equivalentAmtResult:
    type: object
    description: "System will automatically provide all the charges applicable based on the amount defined by the Trading Unit."
    properties:
      grossEquivalentAmt:
        type: number
        format: float
      tcPostage:
        type: number
        format: float
      docStamp:
        type: number
        format: float
      commission:
        type: number
        format: float
  referenceFile:
    type: object
    description: "Reference File in Utility Screen"
    properties:
      transactionCode:
        type: string
      tag:
        type: string
      status:
        type: string
      date:
        type: string
      time:
        type: string
      description:
        type: string
  cutOff:
    type: boolean
    description: "General Function: check cut off"
  primaryControl:
    type: object
    properties:
      BPICutOff:
        type: string
      BPBCutOff:
        type: string
      rate_bprd:
        type: string
      povrd_indc:
        type: string
      ptrck_indc:
        type: string
      ptrck_days:
        type: string
      ptrck_amnt:
        type: string
      sovrd_indc:
        type: string
      strck_indc:
        type: string
      strck_days:
        type: string
      strck_amnt:
        type: string
  transactingUnit:
    type: object
    properties:
      tran_fi:
        type: string
      tran_desc:
        type: string
      trdr_tag:
        type: string
  transactionCashAcceptanceSettlementDetails:
    type: object
    properties:
      tran_date:
        type: string
      tran_unit:
        type: string
      trdr_fi:
        type: string
      tran_indc:
        type: string
      ref_nmber:
        type: string
      c_lname:
        type: string
      c_fname:
        type: string
      c_mname:
        type: string
      addr1:
        type: string
      addr2:
        type: string
      telno:
        type: string
      tin:
        type: string
      bday:
        type: string
      clnt_tag:
        type: string
      corp_tag:
        type: string
      docu_tag:
        type: string
      mang_unit:
        type: string
      book_unit:
        type: string
      curr_fr:
        type: string
      tran_amnt:
        type: string
      deal_rate:
        type: string
      rqst_rate:
        type: string
      grnt_rate:
        type: string
      curr_to:
        type: string
      equi_amnt:
        type: string
      net_amnt:
        type: string
      acpt_mode:
        type: string
      acpt_refno:
        type: string
      achrg_ded:
        type: string
      acpt_docs:
        type: string
      acpt_comm:
        type: string
      r_lname:
        type: string
      r_fname:
        type: string
      r_mname:
        type: string
      atel_vald:
        type: string
      setl_mode:
        type: string
      setl_refno:
        type: string
      schrg_ded:
        type: string
      setl_docs:
        type: string
      setl_comm:
        type: string
      b_lname:
        type: string
      b_fname:
        type: string
      b_mname:
        type: string
      b_bday:
        type: string
      b_addr1:
        type: string
      b_addr2:
        type: string
      stel_vald:
        type: string
      invi_code:
        type: string
      userid:
        type: string
      termid:
        type: string
      stat_rqst:
        type: string
      rmrk_brch:
        type: string
      rmrk_trdr:
        type: string
      acpt_post:
        type: string
      setl_post:
        type: string
      ovrd_ptt:
        type: string
      b_tin:
        type: string
  transactionCashAcceptanceSettlementListItems:
    type: object
    properties:
      tran_trdr:
        type: string
      tran_indc:
        type: string
      ref_nmber:
        type: string
      c_lname:
        type: string
      c_fname:
        type: string
      c_mname:
        type: string
      addr1:
        type: string
      addr2:
        type: string
      acpt_mode:
        type: string
      curr_fr:
        type: string
      tran_amnt:
        type: string
      setl_mode:
        type: string
      curr_to:
        type: string
      equi_amnt:
        type: string
      grnt_rate:
        type: string
      stat_rqst:
        type: string
      brch_code:
        type: string
      rqst_rate:
        type: string

